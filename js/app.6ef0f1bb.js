(function(){var t={5732:function(){},4785:function(t,e,a){"use strict";var s=a(6848),i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("router-view")},r=[],l=a(5732),o=a.n(l),n=o(),p=a(1656),c=(0,p.A)(n,i,r,!1,null,null,null),d=c.exports,u=a(6178),_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth"},[e("div",{staticClass:"auth__box"},[t._m(0),e("form",{staticClass:"auth__form",on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("div",{staticClass:"auth__field"},[e("label",{staticClass:"auth__label",attrs:{for:"phone"}},[t._v("Логин или Телефон")]),e("div",{staticClass:"auth__input-group"},[e("span",{staticClass:"auth__input-icon"},[e("svg",{attrs:{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M18.93 20q-2.528 0-5.184-1.266t-4.944-3.555q-2.27-2.288-3.536-4.935T4 5.07q0-.45.3-.76T5.05 4h2.473q.408 0 .712.257t.411.659L9.142 7.3q.07.42-.025.733t-.333.513L6.59 10.592q.616 1.117 1.361 2.076t1.59 1.817q.87.87 1.874 1.62q1.004.749 2.204 1.414l2.139-2.177q.244-.263.549-.347q.304-.083.674-.033l2.103.43q.408.1.662.411t.254.712v2.435q0 .45-.31.75t-.76.3",fill:"currentColor"}})])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"auth__input",attrs:{id:"phone",placeholder:"+7",type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),e("div",{staticClass:"auth__field",staticStyle:{"margin-bottom":"28px"}},[e("div",{staticClass:"auth__input-group"},[e("span",{staticClass:"auth__input-icon"},[e("svg",{attrs:{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M6.616 21q-.667 0-1.141-.475T5 19.386v-8.77q0-.666.475-1.14T6.615 9H8V7q0-1.671 1.165-2.835Q10.329 3 12 3t2.836 1.165T16 7v2h1.385q.666 0 1.14.475t.475 1.14v8.77q0 .666-.475 1.14t-1.14.475zM12 16.5q.633 0 1.066-.434q.434-.433.434-1.066t-.434-1.066T12 13.5t-1.066.434Q10.5 14.367 10.5 15t.434 1.066q.433.434 1.066.434M9 9h6V7q0-1.25-.875-2.125T12 4t-2.125.875T9 7z",fill:"currentColor"}})])]),"checkbox"===(t.passwordVisible?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"auth__input",attrs:{id:"password",placeholder:"Пароль",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(e){var a=t.password,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=null,l=t._i(a,r);s.checked?l<0&&(t.password=a.concat([r])):l>-1&&(t.password=a.slice(0,l).concat(a.slice(l+1)))}else t.password=i}}}):"radio"===(t.passwordVisible?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"auth__input",attrs:{id:"password",placeholder:"Пароль",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(e){t.password=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"auth__input",attrs:{id:"password",placeholder:"Пароль",type:t.passwordVisible?"text":"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("button",{staticClass:"auth__toggle-password",attrs:{type:"button"},on:{click:t.togglePasswordVisibility}},[e("span",{staticClass:"auth__input-icon"},[t.passwordVisible?t._e():e("svg",{attrs:{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M11.83 9L15 12.16V12a3 3 0 0 0-3-3zm-4.3.8l1.55 1.55c-.05.21-.08.42-.08.65a3 3 0 0 0 3 3c.22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53a5 5 0 0 1-5-5c0-.79.2-1.53.53-2.2M2 4.27l2.28 2.28l.45.45C3.08 8.3 1.78 10 1 12c1.73 4.39 6 7.5 11 7.5c1.55 0 3.03-.3 4.38-.84l.43.42L19.73 22L21 20.73L3.27 3M12 7a5 5 0 0 1 5 5c0 .64-.13 1.26-.36 1.82l2.93 2.93c1.5-1.25 2.7-2.89 3.43-4.75c-1.73-4.39-6-7.5-11-7.5c-1.4 0-2.74.25-4 .7l2.17 2.15C10.74 7.13 11.35 7 12 7",fill:"currentColor"}})]),t.passwordVisible?e("svg",{attrs:{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M12 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5a5 5 0 0 1 5-5a5 5 0 0 1 5 5a5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5",fill:"currentColor"}})]):t._e()])])])]),e("button",{staticClass:"auth__submit",attrs:{type:"submit"}},[t._v("Войти")])]),t.error?e("p",{staticClass:"auth__error"},[t._v(t._s(t.error))]):t._e()])])},m=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth__title"},[e("span",{staticClass:"auth__title-text"},[t._v("Авторизация")])])}],h=(a(4114),{data(){return{username:"",password:"",error:null,passwordVisible:!1}},methods:{async login(){await this.$store.dispatch("login",{username:this.username,password:this.password}).then((()=>{this.$router.push("/")})).catch((()=>{this.error="Неправильные данные"}))},togglePasswordVisibility(){this.passwordVisible=!this.passwordVisible}}}),v=h,g=(0,p.A)(v,_,m,!1,null,"d0be4714",null),f=g.exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appeals"},[e("div",{staticClass:"appeals__title"},[t._v("Список заявок")]),e("div",{staticClass:"appeals__content"},[e("div",{staticClass:"appeals__button__container"},[e("button",{staticClass:"appeals__button",on:{click:t.openCreateModal}},[t._v("Создать")])]),e("div",{staticClass:"appeals__filters"},[e("div",{staticClass:"appeals__field"},[e("div",{staticClass:"appeals__input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"appeals__input",attrs:{id:"search",placeholder:"Поиск (№ заявки, название)",type:"text"},domProps:{value:t.searchQuery},on:{input:[function(e){e.target.composing||(t.searchQuery=e.target.value)},t.fetchAppeals]}}),e("span",{staticClass:"appeals__input-icon"},[e("svg",{attrs:{height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14",fill:"currentColor"}})])])])]),e("div",{staticClass:"appeals__field"},[e("div",{staticClass:"appeals__input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedPremise,expression:"selectedPremise"}],staticClass:"appeals__input",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedPremise=e.target.multiple?a:a[0]},t.fetchAppeals]}},[e("option",{attrs:{value:""}},[t._v("Выберите дом")]),t._l(t.premises,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.short_address)+" ")])}))],2)])])]),e("table",{staticClass:"appeals__table"},[t._m(0),e("tbody",{staticClass:"appeals__table-body"},t._l(t.appeals,(function(a){return e("tr",{key:a.number,staticClass:"appeals__table-row"},[e("td",{staticClass:"appeals__table-cell",on:{click:function(e){return t.openModal(a)}}},[e("button",{staticClass:"appeals__table-button"},[t._v(t._s(a.number))])]),e("td",{staticClass:"appeals__table-cell"},[t._v(t._s(a.created_at))]),e("td",{staticClass:"appeals__table-cell"},[t._v(t._s(a.premise)+", кв. "+t._s(a.apartment))]),e("td",{staticClass:"appeals__table-cell"},[t._v(t._s(a.firstName)+" "+t._s(a.lastName))]),e("td",{staticClass:"appeals__table-cell"},[t._v(t._s(a.description))]),e("td",{staticClass:"appeals__table-cell"},[t._v(t._s(t.formatDate(a.due_date)))]),e("td",{staticClass:"appeals__table-cell"},[t._v(t._s(a.status))])])})),0)]),e("div",{staticClass:"pagination"},[e("span",[t._v(" "+t._s(t.startRecord)+" - "+t._s(t.endRecord)+" из "+t._s(t.totalRecords)+" записей "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedPageSize,expression:"selectedPageSize"}],staticClass:"pagination__select",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedPageSize=e.target.multiple?a:a[0]},t.updatePageSize]}},t._l(t.pageSizes,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(t._s(a))])})),0)]),e("button",{staticClass:"pagination__button",attrs:{disabled:1===t.currentPage},on:{click:function(e){return t.changePage(1)}}},[t._v("««")]),e("button",{staticClass:"pagination__button",attrs:{disabled:1===t.currentPage},on:{click:function(e){return t.changePage(t.currentPage-1)}}},[t._v("« ")]),e("button",{class:["pagination__button",{active:1===t.currentPage}],on:{click:function(e){return t.changePage(1)}}},[t._v(" 1 ")]),t._l(t.visiblePages,(function(a){return e("button",{key:a,class:["pagination__button",{active:a===t.currentPage}],on:{click:function(e){return t.changePage(a)}}},[t._v(" "+t._s(a)+" ")])})),t.showRightEllipsis?e("button",{staticClass:"pagination__button",on:{click:function(e){return t.changePage(t.visiblePages[t.visiblePages.length-1]+1)}}},[t._v(" ... ")]):t._e(),t.totalPages>1?e("button",{class:["pagination__button",{active:t.currentPage===t.totalPages}],on:{click:function(e){return t.changePage(t.totalPages)}}},[t._v(" "+t._s(t.totalPages)+" ")]):t._e(),e("button",{staticClass:"pagination__button",attrs:{disabled:t.currentPage>=t.totalPages},on:{click:function(e){return t.changePage(t.currentPage+1)}}},[t._v(" » ")]),e("button",{staticClass:"pagination__button",attrs:{disabled:t.currentPage>=t.totalPages},on:{click:function(e){return t.changePage(t.totalPages)}}},[t._v("»» ")])],2)]),t.selectedAppeal?e("AppealModal",{attrs:{appeal:t.selectedAppeal},on:{close:t.closeModal}}):t._e(),!t.selectedAppeal&&t.isCreating?e("AppealModal",{on:{close:t.closeModal}}):t._e()],1)},C=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"appeals__table-head"},[e("tr",{staticClass:"appeals__table-row appeals__table-row--header"},[e("th",{staticClass:"appeals__table-cell"},[t._v("№")]),e("th",{staticClass:"appeals__table-cell"},[t._v("Создана")]),e("th",{staticClass:"appeals__table-cell"},[t._v("Адрес")]),e("th",{staticClass:"appeals__table-cell"},[t._v("Заявитель")]),e("th",{staticClass:"appeals__table-cell"},[t._v("Описание")]),e("th",{staticClass:"appeals__table-cell"},[t._v("Срок")]),e("th",{staticClass:"appeals__table-cell"},[t._v("Статус")])])])}],w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal",on:{click:t.handleOutsideClick}},[e("div",{staticClass:"modal__content"},[e("div",{staticClass:"modal__header"},[e("div",{staticClass:"modal__title"},[t._v(" "+t._s(t.isEditMode?`Заявка № ${t.appealData.number} от (${t.appealData.created_at})`:"Создание заявки")+" ")]),e("div",{staticClass:"modal__status"},[t._v(" "+t._s(t.isEditMode?t.appealData.status:"Новая")+" ")])]),e("form",{on:{submit:function(e){return e.preventDefault(),t.saveAppeal.apply(null,arguments)}}},[e("div",{staticClass:"modal__form-group"},[e("div",{staticClass:"modal__form-row"},[e("div",{staticClass:"modal__form-field"},[e("label",{staticClass:"modal__label",attrs:{for:"house"}},[t._v("Дом")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.appealData.premise_id,expression:"appealData.premise_id"}],staticClass:"modal__input",attrs:{id:"house"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.appealData,"premise_id",e.target.multiple?a:a[0])}}},t._l(t.premises,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.short_address)+" ")])})),0)]),e("div",{staticClass:"modal__form-field"},[e("label",{staticClass:"modal__label",attrs:{for:"apartment"}},[t._v("Квартира")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.appealData.apartment_id,expression:"appealData.apartment_id"}],staticClass:"modal__input",attrs:{id:"apartment"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.appealData,"apartment_id",e.target.multiple?a:a[0])}}},t._l(t.apartments,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(" "+t._s(a.number)+" ")])})),0)]),e("div",{staticClass:"modal__form-field"},[e("label",{staticClass:"modal__label",attrs:{for:"date"}},[t._v("Срок")]),e("input",{staticClass:"modal__input",attrs:{id:"date",type:"datetime-local"},domProps:{value:t.formatDate(t.appealData.due_date)},on:{input:function(e){return t.updateDueDate(e.target.value)}}})])]),e("div",{staticClass:"modal__form-row"},[e("div",{staticClass:"modal__form-field"},[e("label",{staticClass:"modal__label",attrs:{for:"lastName"}},[t._v("Фамилия")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.appealData.lastName,expression:"appealData.lastName"}],staticClass:"modal__input",attrs:{id:"lastName",type:"text"},domProps:{value:t.appealData.lastName},on:{input:function(e){e.target.composing||t.$set(t.appealData,"lastName",e.target.value)}}})]),e("div",{staticClass:"modal__form-field"},[e("label",{staticClass:"modal__label",attrs:{for:"firstName"}},[t._v("Имя")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.appealData.firstName,expression:"appealData.firstName"}],staticClass:"modal__input",attrs:{id:"firstName",type:"text"},domProps:{value:t.appealData.firstName},on:{input:function(e){e.target.composing||t.$set(t.appealData,"firstName",e.target.value)}}})]),e("div",{staticClass:"modal__form-field"},[e("label",{staticClass:"modal__label",attrs:{for:"middleName"}},[t._v("Отчество")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.appealData.patronymicName,expression:"appealData.patronymicName"}],staticClass:"modal__input",attrs:{id:"middleName",type:"text"},domProps:{value:t.appealData.patronymicName},on:{input:function(e){e.target.composing||t.$set(t.appealData,"patronymicName",e.target.value)}}})]),e("div",{staticClass:"modal__form-field"},[e("label",{staticClass:"modal__label",attrs:{for:"phone"}},[t._v("Телефон")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.appealData.username,expression:"appealData.username"}],staticClass:"modal__input",attrs:{id:"phone",type:"tel"},domProps:{value:t.appealData.username},on:{input:function(e){e.target.composing||t.$set(t.appealData,"username",e.target.value)}}})])]),e("div",{staticClass:"modal__form-row"},[e("div",{staticClass:"modal__form-field modal__form-field--fullwidth"},[e("label",{staticClass:"modal__label",attrs:{for:"description"}},[t._v("Описание заявки")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.appealData.description,expression:"appealData.description"}],staticClass:"modal__textarea",attrs:{id:"description"},domProps:{value:t.appealData.description},on:{input:function(e){e.target.composing||t.$set(t.appealData,"description",e.target.value)}}})])])]),e("div",{staticClass:"modal__button-container"},[e("button",{staticClass:"modal__button",attrs:{type:"submit"}},[t._v(t._s(t.isEditMode?"Сохранить":"Создать"))])]),t.error?e("div",{staticClass:"modal__error"},[t._v(" "+t._s(t.error)+" ")]):t._e()])])])},y=[],P=a(4373),A={props:["appeal"],data(){return{appealData:this.appeal||{},isEditMode:!!this.appeal,error:""}},computed:{premises(){return this.$store.getters.premises},apartments(){return this.$store.getters.apartments}},async created(){await this.$store.dispatch("fetchPremises"),this.isEditMode&&this.appealData.premise_id&&await this.$store.dispatch("fetchApartments",this.appealData.premise_id)},methods:{async saveAppeal(){const t=this.isEditMode?`https://dev.moydomonline.ru/api/appeals/v1.0/appeals/${this.appealData.id}/`:"https://dev.moydomonline.ru/api/appeals/v1.0/appeals/",e=this.isEditMode?"patch":"post",a={Authorization:`Token ${this.$store.state.token}`,"Content-Type":"application/json"};try{await(0,P.A)({method:e,url:t,data:this.prepareData(),headers:a}),this.$emit("close")}catch(s){this.error=s.response?.data?.detail||"Произошла ошибка. Попробуйте еще раз.",console.error("Ошибка:",s.response?.data)}},prepareData(){return{premise_id:this.appealData.premise_id,apartment_id:this.appealData.apartment_id,applicant:{first_name:this.appealData.firstName,last_name:this.appealData.lastName,patronymic_name:this.appealData.patronymicName,username:this.appealData.username},description:this.appealData.description,due_date:this.appealData.due_date,status_id:this.isEditMode?void 0:1}},formatDate(t){if(!t)return"";const e=new Date(t),a=e.toISOString().slice(0,10),s=e.toTimeString().slice(0,5);return`${a}T${s}`},updateDueDate(t){this.appealData.due_date=new Date(t).toISOString()},handleOutsideClick(t){this.$el.querySelector(".modal__content").contains(t.target)||this.$emit("close")}}},D=A,S=(0,p.A)(D,w,y,!1,null,"442c3ea1",null),x=S.exports,T={components:{AppealModal:x},data(){return{selectedAppeal:null,isCreating:!1,pageSizes:[10,25,50,100],selectedPageSize:10,searchQuery:"",selectedPremise:""}},computed:{appeals(){return this.$store.getters.appeals},premises(){return this.$store.getters.premises},currentPage(){return this.$store.state.currentPage},pageSize(){return this.selectedPageSize},totalRecords(){return this.$store.state.appealCount},totalPages(){return Math.ceil(this.totalRecords/this.pageSize)},visiblePages(){const t=4,e=Math.max(2,this.currentPage-Math.floor(t/2)),a=Math.min(e+t-1,this.totalPages-1);return Array.from({length:a-e+1},((t,a)=>a+e))},showRightEllipsis(){return this.visiblePages.length&&this.visiblePages[this.visiblePages.length-1]<this.totalPages-1},startRecord(){return(this.currentPage-1)*this.pageSize+1},endRecord(){return Math.min(this.currentPage*this.pageSize,this.totalRecords)}},methods:{fetchAppeals(){this.$store.dispatch("fetchAppeals",{page:this.currentPage,page_size:this.pageSize,search:this.searchQuery,premise_id:this.selectedPremise})},updatePageSize(){this.$store.commit("SET_PAGE_SIZE",this.selectedPageSize),this.fetchAppeals()},changePage(t){t>0&&t<=this.totalPages&&this.$store.dispatch("fetchAppeals",{page:t,page_size:this.pageSize,search:this.searchQuery,premise_id:this.selectedPremise})},formatDate(t){if(!t)return"N/A";const e=new Date(t);return`${e.toLocaleDateString()} ${e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`},openModal(t){this.selectedAppeal=t,this.isCreating=!1},openCreateModal(){this.selectedAppeal=null,this.isCreating=!0},closeModal(){this.selectedAppeal=null,this.isCreating=!1,this.fetchAppeals()}},mounted(){this.fetchAppeals(),this.$store.dispatch("fetchPremises")}},k=T,N=(0,p.A)(k,b,C,!1,null,"4347cc18",null),M=N.exports,E=a(3518);s.Ay.use(E.Ay);var $=new E.Ay.Store({state:{appeals:[],appealCount:0,currentPage:1,pageSize:10,token:localStorage.getItem("token")||"",premises:[],apartments:[]},mutations:{SET_APPEALS(t,{appeals:e,count:a,page:s,pageSize:i}){Object.assign(t,{appeals:e,appealCount:a,currentPage:s,pageSize:i})},SET_PAGE_SIZE(t,e){t.pageSize=e,t.currentPage=1},SET_TOKEN(t,e){t.token=e,localStorage.setItem("token",e)},SET_PREMISES(t,e){t.premises=e},SET_APARTMENTS(t,e){t.apartments=e}},actions:{async login({commit:t},e){const{data:a}=await P.A.post("https://dev.moydomonline.ru/api/auth/login/",e);t("SET_TOKEN",a.key)},async fetchAppeals({commit:t,state:e},{page:a=1,page_size:s=e.pageSize,search:i="",premise_id:r=""}={}){try{const{data:l}=await P.A.get("https://dev.moydomonline.ru/api/appeals/v1.0/appeals/",{params:{page:a,page_size:s,search:i,premise_id:r},headers:{Authorization:`Token ${e.token}`}}),o=l.results.map((({id:t,number:e,created_at:a,premise:s,apartment:i,applicant:r,description:l,due_date:o,status:n})=>({id:t,number:e,created_at:new Date(a).toLocaleDateString(),premise:s?s.short_address:"N/A",premise_id:s?.id,apartment_id:i?.id,apartment:i?.number||"",firstName:r.first_name,lastName:r.last_name,patronymicName:r.patronymic_name,username:r.username,description:l,due_date:o,status:n?.name||"Unknown"})));t("SET_APPEALS",{appeals:o,count:l.count,page:a,page_size:s})}catch(l){console.error("Error fetching appeals:",l)}},async fetchPremises({commit:t,state:e}){try{const{data:a}=await P.A.get("https://dev.moydomonline.ru/api/geo/v2.0/user-premises/",{headers:{Authorization:`Token ${e.token}`}});t("SET_PREMISES",a.results)}catch(a){console.error("Error fetching premises:",a)}},async fetchApartments({commit:t,state:e},a){if(a)try{const{data:s}=await P.A.get("https://dev.moydomonline.ru/api/geo/v1.0/apartments/",{params:{premise_id:a},headers:{Authorization:`Token ${e.token}`}});t("SET_APARTMENTS",s.results)}catch(s){console.error("Ошибка при загрузке квартир:",s)}}},getters:{isAuthenticated:t=>!!t.token,appeals:t=>t.appeals,premises:t=>t.premises,apartments:t=>t.apartments}});s.Ay.use(u.Ay);const z=new u.Ay({mode:"hash",routes:[{path:"/login",name:"Login",component:f},{path:"/",name:"Appeals",component:M,meta:{requiresAuth:!0}}]});z.beforeEach(((t,e,a)=>{const s=$.getters.isAuthenticated;t.matched.some((t=>t.meta.requiresAuth))?s?a():a({name:"Login"}):"Login"===t.name&&s?a({name:"Appeals"}):a()}));var q=z;s.Ay.config.productionTip=!1,new s.Ay({router:q,store:$,render:t=>t(d)}).$mount("#app")}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,r){if(!s){var l=1/0;for(c=0;c<t.length;c++){s=t[c][0],i=t[c][1],r=t[c][2];for(var o=!0,n=0;n<s.length;n++)(!1&r||l>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[n])}))?s.splice(n--,1):(o=!1,r<l&&(l=r));if(o){t.splice(c--,1);var p=i();void 0!==p&&(e=p)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[s,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,r,l=s[0],o=s[1],n=s[2],p=0;if(l.some((function(e){return 0!==t[e]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(n)var c=n(a)}for(e&&e(s);p<l.length;p++)r=l[p],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(c)},s=self["webpackChunkappeals_app"]=self["webpackChunkappeals_app"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(4785)}));s=a.O(s)})();
//# sourceMappingURL=app.6ef0f1bb.js.map